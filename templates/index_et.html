{% extends "base.html" %}

{% block title %}Avaleht - TSP Transport OÜ{% endblock %}

{% block content %}
<header>
    <div class="header-top">
        <div class="container">
            <div class="contact-info">
                <a href="mailto:transport@tspgrupp.ee"><i class="fas fa-envelope"></i> transport@tspgrupp.ee</a>
                <a href="https://wa.me/3725027401" target="_blank"><i class="fab fa-whatsapp"></i> +3725027401</a>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="header-main">
            <div class="logo">
                <a href="{{ url_for('index') }}">
                    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="TSP Transport OÜ Logo">
                </a>
            </div>
            <div class="mobile-menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <nav>
                <ul>
                    <li><a href="/#home">Avaleht</a></li>
                    <li><a href="/#about">Meist</a></li>
                    <li><a href="/#services">Teenused</a></li>
                    <li><a href="/#advantages">Eelised</a></li>
                    <li><a href="/#contact">Kontakt</a></li>
                </ul>
            </nav>
            <div class="lang-switcher">
                <a href="/" class="lang-link" data-lang-target="en">EN</a> / <span class="active-lang">EE</span> / <a href="/ru" class="lang-link" data-lang-target="ru">RU</a>
            </div>
        </div>
    </div>
</header>


<!-- Avalehe bänner -->
<section id="home" class="hero">
    <div class="container">
        <div class="hero-content">
            <h1>Usaldusväärne rahvusvaheline kaubavedu</h1>
            <p>TSP Transport OÜ korraldab multimodaalseid saadetisi üle kogu maailma.</p>
            <a href="#contact" class="btn">Sinu isiklik assistent on alati kättesaadav – küsi julgelt!</a>
        </div>
    </div>
</section>

<!-- Meist -->
<section id="about" class="about">
    <div class="container">
        <div class="section-title">
            <h2>Meist</h2>
        </div>
        <div class="about-content">
            <div class="about-text">
                <h3>TSP Transport OÜ – Hoolivus, Ausus ja Tulevikutehnoloogiad</h3>
                <p>Kui teie ettevõttel tekivad logistilised väljakutsed, oleme teie kindel tugi.</p>
                <p>Otsite partnerit, kes lahendab probleemid, mitte ei anna neid edasi?</p>
                <p>Meie meeskond koosneb ekspertidest, kes muudavad keerulised väljakutsed oma motivatsiooniks.</p>
                <p>Teie jaoks – kindlus tarnes. Meie jaoks – vastutus iga konteineri, aluse ja tellimuse eest.</p>
                <p>Me armastame oma tööd!</p>
            </div>
            <div class="about-image">
                <img src="{{ url_for('static', filename='images/tallinn_view_flat.svg') }}" alt="TSP Transport OÜ – Tallinna vaade">
            </div>
        </div>
    </div>
</section>

<!-- Teenused -->
<section id="services" class="services">
    <div class="container">
        <div class="section-title">
            <h2>Meie teenused</h2>
        </div>
        <div class="services-grid">
            <div class="service-card">
                <div class="service-image">
                    <img src="{{ url_for('static', filename='images/multimodal_transport_anton_pieck.jpg') }}" alt="Multimodaalne transport kogu maailmas">
                </div>
                <div class="service-content">
                    <h3>Multimodaalne transport kogu maailmas</h3>
                    <p>FCL/LCL, koondkaubad, üld- ja ülegabariidilised saadetised</p>
                    <div class="button-container">
                        <a href="/multimodal_calculator" class="btn calc-button" style="text-decoration:none;">Vaata lähemalt</a>
                        <span class="new-badge-inline">Uus</span>
                    </div>
                </div>
            </div>
            <div class="service-card">
                <div class="service-image">
                    <img src="{{ url_for('static', filename='images/europe_transport_anton_pieck.jpg') }}" alt="Maanteetransport Euroopas">
                </div>
                <div class="service-content">
                    <h3>Transpordilahendused igale keerukusele Euroopas</h3>
                    <p>FT/LTL, ülegabariidiline ja raskeveos</p>
                    <div class="button-container">
                        <a href="/europe_calculator" class="btn calc-button" style="text-decoration:none;">Vaata lähemalt</a>
                    </div>
                </div>
            </div>
            <div class="service-card">
                <div class="service-image">
                    <img src="{{ url_for('static', filename='images/asia_transport_anton_pieck.jpg') }}" alt="Kaubavedu Kesk-Aasiasse">
                </div>
                <div class="service-content">
                    <h3>Kaubavedu Kesk-Aasiasse</h3>
                    <p>Kasahstan, Usbekistan, Tadžikistan</p>
                    <div class="button-container">
                        <a href="/asia_calculator" class="btn calc-button" style="text-decoration:none;">Vaata lähemalt</a>
                    </div>
                </div>
            </div>
            <div class="service-card">
                <div class="service-image">
                    <img src="{{ url_for('static', filename='images/customs_warehouse_flat.svg') }}" alt="Tollilaod ja tollivahendus">
                </div>
                <div class="service-content">
                    <h3>Tollilaod ja tollivahendusteenused</h3>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Eelised -->
<section id="advantages" class="advantages">
    <div class="container">
        <div class="section-title">
            <h2>Meie eelised</h2>
        </div>
        <div class="advantages-grid">
            <div class="advantage-card">
                <div class="advantage-icon">
                    <i class="fas fa-handshake"></i>
                </div>
                <h3>Läbipaistvus ja vastutus</h3>
                <p>Oleme alati avatud dialoogiks ja võtame täieliku vastutuse oma kohustuste täitmise eest klientide ees.</p>
            </div>
            <div class="advantage-card">
                <div class="advantage-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <h3>Personaalne lähenemine</h3>
                <p>Loome igale kliendile individuaalse logistikalähenemise, võttes arvesse nende äri eripära ja vedude vajadusi.</p>
            </div>
        </div>
    </div>
</section>

<!-- Kontaktivorm -->
<section id="contact" class="contact-form-section">
    <div class="container">
        <div class="section-title">
            <h2>Võta meiega ühendust</h2>
        </div>
        <div class="contact-form-container">
            <form id="contactForm" class="contact-form">
                <div class="form-group">
                    <label for="name">Nimi*</label>
                    <input type="text" id="name" name="name" required />
                </div>
                <div class="form-group">
                    <label for="email">E-post*</label>
                    <input type="email" id="email" name="email" required />
                </div>
                <div class="form-group">
                    <label for="phone">Telefon</label>
                    <input type="tel" id="phone" name="phone" />
                </div>
                <div class="form-group">
                    <label for="company">Ettevõte</label>
                    <input type="text" id="company" name="company" />
                </div>
                <div class="form-group full-width">
                    <label for="message">Sõnum*</label>
                    <textarea id="message" name="message" minlength="10" required></textarea>
                </div>
                <div class="form-submit">
                    <button type="submit" class="btn btn-submit">Saada</button>
                </div>
            </form>
        </div>
    </div>
</section>

<script>
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const form = e.target;
    const formData = {
        name: form.name.value.trim(),
        email: form.email.value.trim(),
        phone: form.phone.value.trim(),
        company: form.company.value.trim(),
        message: form.message.value.trim(),
    };

    try {
        const response = await fetch('/api/send_contact_form', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(formData)
        });
        const result = await response.json();

        if (response.ok) {
            alert('Aitäh! Teie sõnum on edukalt saadetud.');
            form.reset();
        } else {
            alert('Viga: ' + (result.error || 'Tundmatu viga tekkis.'));
        }
    } catch (err) {
        alert('Võrguviga: ' + err.message);
    }
});
</script>

{% endblock %}
