{% extends "base.html" %}

{% block title %}Главная - TSP Transport OÜ{% endblock %}

{% block content %}
<header>
    <div class="header-top">
        <div class="container">
            <div class="contact-info">
                <a href="mailto:transport@tspgrupp.ee"><i class="fas fa-envelope"></i> transport@tspgrupp.ee</a>
                <a href="https://wa.me/3725027401" target="_blank"><i class="fab fa-whatsapp"></i> +3725027401</a>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="header-main">
            <div class="logo">
                <a href="{{ url_for('index') }}">
                    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Логотип TSP Transport OÜ">
                </a>
            </div>
            <div class="mobile-menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <nav>
                <ul>
                    <li><a href="/#home">Главная</a></li>
                    <li><a href="/#about">О нас</a></li>
                    <li><a href="/#services">Услуги</a></li>
                    <li><a href="/#advantages">Преимущества</a></li>
                    <li><a href="/#contact">Контакты</a></li>
                </ul>
            </nav>
            <div class="lang-switcher">
                <a href="/" class="lang-link" data-lang-target="en">EN</a> / <a href="/et" class="lang-link" data-lang-target="et">EE</a> / <span class="active-lang">RU</span>
            </div>
        </div>
    </div>
</header>
<!-- Главный баннер -->
<section id="home" class="hero">
    <div class="container">
        <div class="hero-content">
            <h1>Надёжные международные грузоперевозки</h1>
            <p>TSP Transport OÜ организует мультимодальные перевозки по всему миру.</p>
            <a href="#contact" class="btn">Ваш личный помощник всегда на связи — задавайте любые вопросы!</a>
        </div>
    </div>
</section>

<!-- О компании -->
<section id="about" class="about">
    <div class="container">
        <div class="section-title">
            <h2>О нас</h2>
        </div>
        <div class="about-content">
            <div class="about-text">
                <h3>TSP Transport OÜ – Забота, Честность и Технологии Будущего</h3>
                <p>Когда ваш бизнес сталкивается с логистическими вызовами, мы становимся вашей опорой.</p>
                <p>Ищете партнёра, который решает задачи, а не перекладывает их на вас?</p>
                <p>Мы — команда профессионалов, превращающих сложные вызовы в собственную мотивацию.</p>
                <p>Для вас — это уверенность в доставке. Для нас — ответственность за каждый контейнер, паллет и заказ.</p>
                <p>Мы любим своё дело!</p>
            </div>
            <div class="about-image">
                <img src="{{ url_for('static', filename='images/tallinn_view_flat.svg') }}" alt="TSP Transport OÜ - Вид на Таллинн">
            </div>
        </div>
    </div>
</section>

<!-- Услуги -->
<section id="services" class="services">
    <div class="container">
        <div class="section-title">
            <h2>Наши услуги</h2>
        </div>
        <div class="services-grid">
            <div class="service-card">
                <div class="service-image">
                    <img src="{{ url_for('static', filename='images/multimodal_transport_anton_pieck.jpg') }}" alt="Мультимодальные перевозки по всему миру">
                </div>
                <div class="service-content">
                    <h3>Мультимодальные перевозки по всему миру</h3>
                    <p>FCL/LCL, сборные грузы, генеральные и негабаритные отправки</p>
                    <div class="button-container">
                        <a href="/multimodal_calculator" class="btn calc-button" style="text-decoration:none;">Подробнее</a>
                        <span class="new-badge-inline">New</span>
                    </div>
                </div>
            </div>
            <div class="service-card">
                <div class="service-image">
                    <img src="{{ url_for('static', filename='images/europe_transport_anton_pieck.jpg') }}" alt="Автоперевозки по Европе">
                </div>
                <div class="service-content">
                    <h3>Транспортные решения любой сложности по Европе</h3>
                    <p>FT/LTL, негабарит и тяжеловесные грузы</p>
                    <div class="button-container">
                        <a href="/europe_calculator" class="btn calc-button" style="text-decoration:none;">Подробнее</a>
                    </div>
                </div>
            </div>
            <div class="service-card">
                <div class="service-image">
                    <img src="{{ url_for('static', filename='images/asia_transport_anton_pieck.jpg') }}" alt="Грузы в Центральную Азию">
                </div>
                <div class="service-content">
                    <h3>Доставка грузов в Центральную Азию</h3>
                    <p>Казахстан, Узбекистан, Таджикистан</p>
                    <div class="button-container">
                        <a href="/asia_calculator" class="btn calc-button" style="text-decoration:none;">Подробнее</a>
                    </div>
                </div>
            </div>
            <div class="service-card">
                <div class="service-image">
                    <img src="{{ url_for('static', filename='images/customs_warehouse_flat.svg') }}" alt="Услуги таможенного склада">
                </div>
                <div class="service-content">
                    <h3>Услуги таможенного склада и брокера</h3>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Преимущества -->
<section id="advantages" class="advantages">
    <div class="container">
        <div class="section-title">
            <h2>Наши преимущества</h2>
        </div>
        <div class="advantages-grid">
            <div class="advantage-card">
                <div class="advantage-icon">
                    <i class="fas fa-handshake"></i>
                </div>
                <h3>Прозрачность и ответственность</h3>
                <p>Мы всегда открыты для диалога и полностью отвечаем за выполнение своих обязательств перед клиентами.</p>
            </div>
            <div class="advantage-card">
                <div class="advantage-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <h3>Индивидуальный подход</h3>
                <p>Мы разрабатываем логистические решения с учётом особенностей бизнеса и потребностей каждого клиента.</p>
            </div>
        </div>
    </div>
</section>

<!-- Форма обратной связи -->
<section id="contact" class="contact-form-section">
    <div class="container">
        <div class="section-title">
            <h2>Связаться с нами</h2>
        </div>
        <div class="contact-form-container">
            <form id="contactForm" class="contact-form">
                <div class="form-group">
                    <label for="name">Имя*</label>
                    <input type="text" id="name" name="name" required />
                </div>
                <div class="form-group">
                    <label for="email">Email*</label>
                    <input type="email" id="email" name="email" required />
                </div>
                <div class="form-group">
                    <label for="phone">Телефон</label>
                    <input type="tel" id="phone" name="phone" />
                </div>
                <div class="form-group">
                    <label for="company">Компания</label>
                    <input type="text" id="company" name="company" />
                </div>
                <div class="form-group full-width">
                    <label for="message">Сообщение*</label>
                    <textarea id="message" name="message" minlength="10" required></textarea>
                </div>
                <div class="form-submit">
                    <button type="submit" class="btn btn-submit">Отправить</button>
                </div>
            </form>
        </div>
    </div>
</section>

<script>
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const form = e.target;
    const formData = {
        name: form.name.value.trim(),
        email: form.email.value.trim(),
        phone: form.phone.value.trim(),
        company: form.company.value.trim(),
        message: form.message.value.trim(),
    };

    try {
        const response = await fetch('/api/send_contact_form', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(formData)
        });
        const result = await response.json();

        if (response.ok) {
            alert('Спасибо! Ваше сообщение успешно отправлено.');
            form.reset();
        } else {
            alert('Ошибка: ' + (result.error || 'Произошла неизвестная ошибка.'));
        }
    } catch (err) {
        alert('Ошибка сети: ' + err.message);
    }
});
</script>

{% endblock %}
